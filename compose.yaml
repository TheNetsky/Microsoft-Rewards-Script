services:
  netsky:
    build: .
    container_name: microsoft-rewards-script
    restart: unless-stopped

    # Volume mounts: Specify a location where you want to save the files on your local machine.
    volumes:
      - ./src/accounts.json:/usr/src/microsoft-rewards-script/dist/accounts.json:ro
      - ./src/config.json:/usr/src/microsoft-rewards-script/dist/config.json:ro
      - ./sessions:/usr/src/microsoft-rewards-script/dist/browser/sessions # Optional, saves your login session

    environment:
      TZ: "America/Toronto" # Set your timezone for proper scheduling
      NODE_ENV: "production"
      CRON_SCHEDULE: "0 7,16,20 * * *" # Customize your schedule, use crontab.guru for formatting
      RUN_ON_START: "true" # Runs the script on container startup

    # Optional resource limits for standalone Compose
    mem_limit: 5g
    cpus: 2.5
